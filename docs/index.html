<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Houston Kink Calendar</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    *, *::before, *::after { box-sizing: border-box; }

    :root{
      --bg0:#0d0d0d;
      --bg1:#1c1c1c;
      --panel: rgba(255,255,255,0.05);
      --panelHover: rgba(255,255,255,0.08);
      --border: rgba(255,255,255,0.10);
      --text: #f2f2f2;
      --muted:#a9a9a9;

      /* One unified button color */
      --btnA:#8b5cf6;     /* violet */
      --btnB:#6d28d9;     /* deeper violet */
      --btnBorder: rgba(255,255,255,0.18);
      --shadow: rgba(0,0,0,0.45);
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top, var(--bg1), var(--bg0) 70%);
      color: var(--text);
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .container {
      max-width: 900px;
      width: 100%;
      padding: 70px 20px 60px;
    }

    h1 {
      font-size: 3rem;
      font-weight: 700;
      margin: 0 0 10px;
      letter-spacing: 1px;
    }

    .subtitle {
      color: var(--muted);
      font-weight: 300;
      margin-bottom: 42px;
      font-size: 1.1rem;
      line-height: 1.55;
    }

    /* Desktop: single row (3 columns). Mobile: stacked. */
    .subscribe-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-bottom: 44px;
    }
    @media (min-width: 900px) {
      .subscribe-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .sub-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      text-align: center;
      padding: 16px 14px;
      border-radius: 14px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.02rem;
      letter-spacing: 0.3px;
      color: #fff;
      border: 1px solid var(--btnBorder);
      background: linear-gradient(135deg, var(--btnA), var(--btnB));
      transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease;
      min-height: 58px;
    }

    .sub-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 25px var(--shadow);
      filter: brightness(1.05);
    }

    .sub-btn:active {
      transform: translateY(-2px);
    }

    .icon {
      width: 24px;
      height: 24px;
      display: inline-block;
      flex: 0 0 auto;
      opacity: 0.95;
    }
    .icon svg {
      width: 100%;
      height: 100%;
      display: block;
      fill: currentColor;
    }

    .section {
      background: var(--panel);
      border-radius: 14px;
      margin-bottom: 15px;
      overflow: hidden;
      transition: 0.3s ease;
      border: 1px solid rgba(255,255,255,0.06);
    }

    .section-header {
      padding: 18px 20px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      user-select: none;
    }

    .section-header:hover {
      background: var(--panelHover);
    }

    .section-header .right {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      opacity: 0.9;
    }

    .chev {
      width: 18px;
      height: 18px;
      transition: transform 0.25s ease;
      opacity: 0.9;
    }
    .section.active .chev { transform: rotate(180deg); }

    .section-content {
      max-height: 0;
      overflow: hidden;
      padding: 0 20px;
      transition: max-height 0.4s ease, padding 0.4s ease;
      color: #ccc;
      line-height: 1.6;
    }

    .section.active .section-content {
      max-height: 1200px;
      padding: 20px;
    }

    code {
      background: rgba(255,255,255,0.08);
      padding: 4px 6px;
      border-radius: 6px;
      font-size: 0.9rem;
      word-break: break-word;
    }

    .footer {
      margin-top: 60px;
      font-size: 0.85rem;
      color: #777;
      text-align: center;
      letter-spacing: 0.3px;
    }

    /* Form styling */
    .form { display: grid; gap: 14px; margin-top: 10px; }
    .field label { display:block; font-weight:700; margin-bottom:6px; }

    .field input, .field textarea {
      width:100%;
      display:block;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.35);
      color: #fff;
      outline: none;
    }
    .field input:focus, .field textarea:focus { border-color: rgba(255,255,255,0.35); }

    .hint { font-size: 12px; opacity: 0.75; margin-top: 6px; }

    .two-col {
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      align-items: start;
    }
    @media (max-width: 720px) { .two-col { grid-template-columns: 1fr; } }

    .segmented { display:flex; gap:12px; flex-wrap:wrap; }
    .seg {
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.25);
      cursor:pointer;
      flex: 0 1 auto;
      min-width: 240px;
    }
    .seg input { accent-color: #fff; }
    @media (max-width: 720px) { .seg { min-width: 100%; } }

    .btn.primary {
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.12);
      color: #fff;
      font-weight: 800;
      cursor:pointer;
    }
    .btn.primary:hover { background: rgba(255,255,255,0.18); }

    .muted { opacity: 0.85; }
    .tiny { font-size: 12px; }
  </style>
</head>

<body>
  <div class="container">

    <h1>Houston Kink Calendar</h1>
    <div class="subtitle">
      Live leather, pup, bear &amp; community events across Houston.
      Subscribe once. Stay updated automatically.
    </div>

    <div class="subscribe-grid">
      <a class="sub-btn" href="webcal://daddybearrok.github.io/houstonkinkcal/houston-kink-cal.ics" aria-label="Subscribe on Apple Calendar (Mac and iPhone)">
        <span class="icon" aria-hidden="true">
          <!-- Apple logo (simple) -->
          <svg height="24px" width="24px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 22.773 22.773" xml:space="preserve">
            <g>
              <g>
                <path d="M15.769,0c0.053,0,0.106,0,0.162,0c0.13,1.606-0.483,2.806-1.228,3.675c-0.731,0.863-1.732,1.7-3.351,1.573 c-0.108-1.583,0.506-2.694,1.25-3.561C13.292,0.879,14.557,0.16,15.769,0z"/>
                <path d="M20.67,16.716c0,0.016,0,0.03,0,0.045c-0.455,1.378-1.104,2.559-1.896,3.655c-0.723,0.995-1.609,2.334-3.191,2.334 c-1.367,0-2.275-0.879-3.676-0.903c-1.482-0.024-2.297,0.735-3.652,0.926c-0.155,0-0.31,0-0.462,0 c-0.995-0.144-1.798-0.932-2.383-1.642c-1.725-2.098-3.058-4.808-3.306-8.276c0-0.34,0-0.679,0-1.019 c0.105-2.482,1.311-4.5,2.914-5.478c0.846-0.52,2.009-0.963,3.304-0.765c0.555,0.086,1.122,0.276,1.619,0.464 c0.471,0.181,1.06,0.502,1.618,0.485c0.378-0.011,0.754-0.208,1.135-0.347c1.116-0.403,2.21-0.865,3.652-0.648 c1.733,0.262,2.963,1.032,3.723,2.22c-1.466,0.933-2.625,2.339-2.427,4.74C17.818,14.688,19.086,15.964,20.67,16.716z"/>
              </g>
            </g>
          </svg>
        </span>
        <span>Mac / iPhone</span>
      </a>

      <a class="sub-btn" href="https://www.google.com/calendar/render?cid=https%3A%2F%2Fdaddybearrok.github.io%2Fhoustonkinkcal%2Fhouston-kink-cal.ics" target="_blank" rel="noopener" aria-label="Add to Google Calendar">
        <span class="icon" aria-hidden="true">
          <!-- Google Calendar-ish icon -->
          <svg fill="#ffffff" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid">
            <g>
              <polygon fill="#FFFFFF" points="195.368421 60.6315789 60.6315789 60.6315789 60.6315789 195.368421 195.368421 195.368421"></polygon>
              <polygon fill="#ffffff" points="195.368421 256 256 195.368421 225.684211 190.196005 195.368421 195.368421 189.835162 223.098002"></polygon>
              <path d="M1.42108547e-14,195.368421 L1.42108547e-14,235.789474 C1.42108547e-14,246.955789 9.04421053,256 20.2105263,256 L60.6315789,256 L66.8568645,225.684211 L60.6315789,195.368421 L27.5991874,190.196005 L1.42108547e-14,195.368421 Z" fill="#ffffff"></path>
              <path d="M256,60.6315789 L256,20.2105263 C256,9.04421053 246.955789,1.42108547e-14 235.789474,1.42108547e-14 L195.368421,1.42108547e-14 C191.679582,15.0358547 189.835162,26.1010948 189.835162,33.1957202 C189.835162,40.2903456 191.679582,49.4356319 195.368421,60.6315789 C208.777986,64.4714866 218.883249,66.3914404 225.684211,66.3914404 C232.485172,66.3914404 242.590435,64.4714866 256,60.6315789 Z" fill="#ffffff"></path>
              <polygon fill="#ffffff" points="256 60.6315789 195.368421 60.6315789 195.368421 195.368421 256 195.368421"></polygon>
              <polygon fill="#ffffff" points="195.368421 195.368421 60.6315789 195.368421 60.6315789 256 195.368421 256"></polygon>
              <path d="M195.368421,0 L20.2105263,0 C9.04421053,0 0,9.04421053 0,20.2105263 L0,195.368421 L60.6315789,195.368421 L60.6315789,60.6315789 L195.368421,60.6315789 L195.368421,0 Z" fill="#ffffff"></path>
              <path d="M88.2694737,165.153684 C83.2336842,161.751579 79.7473684,156.783158 77.8442105,150.214737 L89.5326316,145.397895 C90.5936842,149.44 92.4463158,152.572632 95.0905263,154.795789 C97.7178947,157.018947 100.917895,158.113684 104.656842,158.113684 C108.48,158.113684 111.764211,156.951579 114.509474,154.627368 C117.254737,152.303158 118.635789,149.338947 118.635789,145.751579 C118.635789,142.08 117.187368,139.082105 114.290526,136.757895 C111.393684,134.433684 107.755789,133.271579 103.410526,133.271579 L96.6568421,133.271579 L96.6568421,121.701053 L102.72,121.701053 C106.458947,121.701053 109.608421,120.690526 112.168421,118.669474 C114.728421,116.648421 116.008421,113.886316 116.008421,110.366316 C116.008421,107.233684 114.863158,104.741053 112.572632,102.871579 C110.282105,101.002105 107.385263,100.058947 103.865263,100.058947 C100.429474,100.058947 97.7010526,100.968421 95.68,102.804211 C93.6602819,104.644885 92.1418208,106.968942 91.2673684,109.557895 L79.6968421,104.741053 C81.2294737,100.395789 84.0421053,96.5557895 88.1684211,93.2378947 C92.2947368,89.92 97.5663158,88.2526316 103.966316,88.2526316 C108.698947,88.2526316 112.96,89.1621053 116.732632,90.9978947 C120.505263,92.8336842 123.469474,95.3768421 125.608421,98.6105263 C127.747368,101.861053 128.808421,105.498947 128.808421,109.541053 C128.808421,113.667368 127.814737,117.153684 125.827368,120.016842 C123.84,122.88 121.397895,125.069474 118.501053,126.602105 L118.501053,127.292632 C122.241568,128.834789 125.490747,131.367752 127.898947,134.618947 C130.341053,137.903158 131.570526,141.827368 131.570526,146.408421 C131.570526,150.989474 130.408421,155.082105 128.084211,158.669474 C125.76,162.256842 122.543158,165.086316 118.467368,167.141053 C114.374737,169.195789 109.776842,170.240124 104.673684,170.240124 C98.7621053,170.256842 93.3052632,168.555789 88.2694737,165.153684 L88.2694737,165.153684 Z M160.067368,107.149474 L147.233684,116.429474 L140.816842,106.694737 L163.84,90.0884211 L172.665263,90.0884211 L172.665263,168.421053 L160.067368,168.421053 L160.067368,107.149474 Z" fill="#fffff"></path>
            </g>
          </svg>
        </span>
        <span>Google/Android</span>
      </a>

      <a class="sub-btn" href="https://outlook.live.com/calendar/addfromweb?url=https://daddybearrok.github.io/houstonkinkcal/houston-kink-cal.ics&name=Houston%20Kink%20Cal&mkt=en-001" target="_blank" rel="noopener" aria-label="Add to Outlook Calendar">
        <span class="icon" aria-hidden="true">
          <!-- Outlook-ish envelope/calendar -->
          <svg fill="#ffffff" height="24px" width="24px" viewBox="0 0 24 24" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve">
            <g>
              <g>
                <path d="M16.376,6.059c0-0.3-0.215-0.544-0.478-0.544h-4.697v1.087h3.717L12.48,8.611l-1.279-1.048v1.379 l1.003,0.813c0.163,0.132,0.392,0.132,0.555-0.001l2.661-2.157v2.873h-4.219v1.087h4.697c0.263,0,0.478-0.243,0.478-0.544V6.541 c0-0.013-0.001-0.025-0.002-0.038c0.001-0.013,0.002-0.026,0.002-0.038C16.376,6.465,16.376,6.059,16.376,6.059z"/>
                <path d="M5.115,10.433c0.686,0,1.126-0.904,1.126-2.253c0-1.119-0.325-2.253-1.126-2.253 c-0.847,0-1.16,1.149-1.16,2.253C3.955,9.467,4.361,10.433,5.115,10.433z"/>
                <path d="M0,14.992l10.195,0.748V0.637L0,1.534V14.992z M5.162,4.272c1.741,0,2.902,1.578,2.902,3.831 c0,2.743-1.475,4-2.995,4c-1.66,0-2.937-1.44-2.937-3.861C2.133,5.819,3.34,4.272,5.162,4.272z"/>
              </g>
            </g>
          </svg>
        </span>
        <span>Outlook</span>
      </a>
    </div>

    <div class="section">
      <div class="section-header">
        <span>üì± Manual Subscription Instructions</span>
        <span class="right" aria-hidden="true">
          <svg class="chev" viewBox="0 0 24 24">
            <path fill="currentColor" d="M7 10l5 5 5-5z"/>
          </svg>
        </span>
      </div>
      <div class="section-content">
        <p>If the buttons above don‚Äôt work for your device, you can manually subscribe using this URL:</p>
        <p><code>https://daddybearrok.github.io/houstonkinkcal/houston-kink-cal.ics</code></p>
        <p>Add it using your calendar app‚Äôs ‚ÄúSubscribe from Web‚Äù or ‚ÄúAdd by URL‚Äù feature.</p>
      </div>
    </div>

    <div class="section">
      <div class="section-header">
        <span>üîÅ Refresh &amp; Updates</span>
        <span class="right" aria-hidden="true">
          <svg class="chev" viewBox="0 0 24 24">
            <path fill="currentColor" d="M7 10l5 5 5-5z"/>
          </svg>
        </span>
      </div>
      <div class="section-content">
        <p>
          This is a live subscription calendar. Events update automatically.
          Some platforms (especially Google and Outlook) may take a few hours to refresh.
        </p>
        <p>
          Apple Calendar can be set to refresh hourly.
        </p>
      </div>
    </div>

    <!-- Collapsed-by-default submit section -->
    <div class="section" id="submitSection">
      <div class="section-header">
        <span>‚úâÔ∏è Submit an Event or Page</span>
        <span class="right" aria-hidden="true">
          <svg class="chev" viewBox="0 0 24 24">
            <path fill="currentColor" d="M7 10l5 5 5-5z"/>
          </svg>
        </span>
      </div>

      <div class="section-content">
        <p class="muted" style="margin-top:0;">
          Got a Houston kink/leather/pup/bear/community event (or a Facebook page with events) that should be included?
          Drop it here. If it‚Äôs a good fit, I‚Äôll add it.
        </p>

        <form
          id="requestForm"
          action="https://formspree.io/f/xzdawajg"
          method="POST"
          class="form"
        >
          <input type="text" name="_gotcha" style="display:none" autocomplete="off">

          <div class="field">
            <label>What are you submitting?</label>
            <div class="segmented">
              <label class="seg">
                <input type="radio" name="submission_type" value="single_event" checked>
                <span>Single Facebook Event</span>
              </label>
              <label class="seg">
                <input type="radio" name="submission_type" value="facebook_page">
                <span>Facebook Page with Events</span>
              </label>
            </div>
          </div>

          <div class="field">
            <label for="url">Facebook URL</label>
            <input
              id="url"
              name="facebook_url"
              type="url"
              placeholder="https://www.facebook.com/events/123...  OR  https://www.facebook.com/profile.php?id=..."
              required
            >
            <div class="hint">Tip: paste the full URL from your browser.</div>
          </div>

          <div class="field two-col">
            <div>
              <label for="name">Your name (optional)</label>
              <input id="name" name="submitter_name" type="text" placeholder="Name">
            </div>
            <div>
              <label for="email">Your email (optional)</label>
              <input id="email" name="submitter_email" type="email" placeholder="you@email.com">
            </div>
          </div>

          <div class="field">
            <label for="notes">Notes (optional)</label>
            <textarea
              id="notes"
              name="notes"
              rows="4"
              placeholder="Anything I should know? Frequency, venue, organizer, recurring events, etc."
            ></textarea>
          </div>

          <input type="hidden" name="_subject" value="Houston Kink Cal submission">
          <input type="hidden" name="_next" value="https://daddybearrok.github.io/houstonkinkcal/#thanks">

          <button type="submit" class="btn primary">Send Request</button>
          <p class="muted tiny">This sends an email request to the calendar admin. No guarantees, but I do review them.</p>
        </form>
      </div>
    </div>

    <!-- Thank you section -->
    <div class="section" id="thanks" style="display:none;">
      <div class="section-header">
        <span>‚úÖ Submitted</span>
        <span class="right" aria-hidden="true">
          <svg class="chev" viewBox="0 0 24 24">
            <path fill="currentColor" d="M7 10l5 5 5-5z"/>
          </svg>
        </span>
      </div>
      <div class="section-content">
        <p class="muted" style="margin-top:0;">
          Thanks ‚Äî your submission was sent. If it‚Äôs a fit, it‚Äôll show up in the calendar soon.
        </p>
      </div>
    </div>

    <div class="footer">
      Built for the Houston community ‚Ä¢ Live ‚Ä¢ Automatic ‚Ä¢ Always evolving
    </div>

  </div>

  <script>
    // Accordion behavior
    document.querySelectorAll('.section-header').forEach(header => {
      header.addEventListener('click', () => {
        header.parentElement.classList.toggle('active');
      });
    });

    // If redirected back with #thanks, hide submit and show thank-you (opened)
    if (window.location.hash === "#thanks") {
      const thanks = document.getElementById("thanks");
      const submit = document.getElementById("submitSection");
      if (submit) submit.style.display = "none";
      if (thanks) {
        thanks.style.display = "block";
        thanks.classList.add("active");
      }
    }
  </script>
</body>
</html>
